<%
    let user = res.locals.user;
%>
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title><% if (user) { %><%= user.username %> - <% } %>出错啦!</title>
    <script src="/jquery.min.js" type="text/javascript"></script>
    <style type="text/css">
        body {
            padding: 0 5px;
        }
        body > div {
            line-height: 1.5;
        }
        a {
            color: #0e90d2;
            text-decoration: none;
            transition: all linear .3s 0s;
        }
        a:hover {
            color: #095f8a;
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <div>
        <h3>出错啦!</h3>
    </div>
    <hr>
    <div>
        <% if (err.name === 'ClientError') { %>
            <strong><%= err.message %></strong>
        <% } else if (res.locals.session.admin) { %>
            <pre><%= err.stack %></pre>
        <% } else { %>
            <strong>未知错误</strong>
        <% } %>
    </div>
</body>
</html>